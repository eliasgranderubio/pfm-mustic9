<?xml version="1.0" encoding="UTF-8" ?>
<!-- Generated by Oracle SCA Test Modeler version 1.0 at [5/2/15 1:12 AM]. -->
<compositeTest compositeDN="master_soa" xmlns="http://xmlns.oracle.com/sca/2006/test">
  <about/>
  <initiate serviceName="Master_Dispatcher" operation="dispatch" isAsync="true" delay="PT0S">
    <message>
      <part partName="parameters">
        <content>
          <dispatch xmlns="http://dispatcher.ws.master.cracking.uem.es/"/>
        </content>
      </part>
    </message>
  </initiate>
  <wireActions wireSource="Master_Dispatcher_Process/OSB_Name_Server_WS" operation="deleteLockedSlave">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="input"/>
        <message>
          <part partName="parameters">
            <content>
              <deleteLockedSlave xmlns="http://ws.name_server.cracking.uem.es/">
                <deleteLockedSlaveRequest xmlns="">
                  <id>1</id>
                </deleteLockedSlaveRequest>
              </deleteLockedSlave>
            </content>
          </part>
        </message>
      </expected>
    </assert>
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <deleteLockedSlaveResponse xmlns="http://ws.name_server.cracking.uem.es/"/>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Master_Dispatcher_Process/OSB_Name_Server_WS" operation="getAvailableSlaves">
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <getAvailableSlavesResponse xmlns="http://ws.name_server.cracking.uem.es/">
              <return xmlns="">
                <availableSlaves>
                  <id>1</id>
                  <ip>10.10.10.20</ip>
                  <port>8080</port>
                  <processor_name>Intel I5</processor_name>
                </availableSlaves>
              </return>
            </getAvailableSlavesResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Get_Processor_Info_Process/Master_Processor_WS" operation="offlineProcessorsPerformanceStatistics">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="input"/>
        <message>
          <part partName="parameters">
            <content>
              <offlineProcessorsPerformanceStatistics xmlns="http://processors.ws.master.cracking.uem.es/"/>
            </content>
          </part>
        </message>
      </expected>
    </assert>
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <offlineProcessorsPerformanceStatisticsResponse xmlns="http://processors.ws.master.cracking.uem.es/">
              <return xmlns="">
                <processors>
                  <processorName>Intel I5</processorName>
                  <totalWordsProcessed>10000</totalWordsProcessed>
                  <totalTimeProcessing>1</totalTimeProcessing>
                  <wordsPerMinute>10000</wordsPerMinute>
                </processors>
              </return>
            </offlineProcessorsPerformanceStatisticsResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Master_Dispatcher_Process/Master_Attack_WS" operation="findAttackWindowById">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="input"/>
        <message>
          <part partName="parameters">
            <content>
              <findAttackWindowById xmlns="http://attacks.ws.master.cracking.uem.es/">
                <findAttackWindowByIdRequest xmlns="">
                  <id>1</id>
                </findAttackWindowByIdRequest>
              </findAttackWindowById>
            </content>
          </part>
        </message>
      </expected>
    </assert>
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <findAttackWindowByIdResponse xmlns="http://attacks.ws.master.cracking.uem.es/">
              <return xmlns="">
                <id>1</id>
                <activeAttackId>1</activeAttackId>
                <attemps>0</attemps>
                <sentTimestamp>0</sentTimestamp>
                <bfPattern/>
                <processed>false</processed>
                <factor>0</factor>
                <firstDictionaryWord>a</firstDictionaryWord>
                <lastDictionaryWord>c</lastDictionaryWord>
              </return>
            </findAttackWindowByIdResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Master_Dispatcher_Process/Master_Attack_WS" operation="getAllActiveAttacksId">
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <getAllActiveAttacksIdResponse xmlns="http://attacks.ws.master.cracking.uem.es/">
              <return xmlns="">
                <ids>
                  <id>1</id>
                </ids>
              </return>
            </getAllActiveAttacksIdResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Master_Dispatcher_Process/Master_Attack_WS" operation="getAttackWindowIdsToSend">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="input"/>
        <message>
          <part partName="parameters">
            <content>
              <getAttackWindowIdsToSend xmlns="http://attacks.ws.master.cracking.uem.es/">
                <getAttackWindowIdsToSendRequest xmlns="">
                  <activeAttackId>1</activeAttackId>
                  <maxWindows>1</maxWindows>
                </getAttackWindowIdsToSendRequest>
              </getAttackWindowIdsToSend>
            </content>
          </part>
        </message>
      </expected>
    </assert>
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <getAttackWindowIdsToSendResponse xmlns="http://attacks.ws.master.cracking.uem.es/">
              <return xmlns="">
                <ids>
                  <id>1</id>
                </ids>
              </return>
            </getAttackWindowIdsToSendResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Master_Dispatcher_Process/Master_Attack_WS" operation="getActiveAttack">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="input"/>
        <message>
          <part partName="parameters">
            <content>
              <getActiveAttack xmlns="http://attacks.ws.master.cracking.uem.es/">
                <getActiveAttackRequest xmlns="">
                  <id>1</id>
                </getActiveAttackRequest>
              </getActiveAttack>
            </content>
          </part>
        </message>
      </expected>
    </assert>
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <getActiveAttackResponse xmlns="http://attacks.ws.master.cracking.uem.es/">
              <return xmlns="">
                <id>1</id>
                <tool>john</tool>
                <attackType>MD5</attackType>
                <remoteUser/>
                <remoteIp/>
                <remotePort/>
                <extraParam/>
                <hashToCrack>hashToCrack</hashToCrack>
                <notifyToEmail>pfm@mustic9.com</notifyToEmail>
              </return>
            </getActiveAttackResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Master_Dispatcher_Process/Master_Attack_WS" operation="updateAttackWindow">
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <updateAttackWindowResponse xmlns="http://attacks.ws.master.cracking.uem.es/">
              <return xmlns="">
                <updated>true</updated>
              </return>
            </updateAttackWindowResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Get_Words_Range_Process/Master_Word_WS" operation="getWordsRange">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="input"/>
        <message>
          <part partName="parameters">
            <content>
              <getWordsRange xmlns="http://words.ws.master.cracking.uem.es/">
                <getWordsRangeRequest xmlns="">
                  <includeFromWord>a</includeFromWord>
                  <includeToWord>c</includeToWord>
                </getWordsRangeRequest>
              </getWordsRange>
            </content>
          </part>
        </message>
      </expected>
    </assert>
    <emulate duration="PT0S">
      <message>
        <part partName="parameters">
          <content>
            <getWordsRangeResponse xmlns="http://words.ws.master.cracking.uem.es/">
              <return xmlns="">
                <words>
                  <word>a</word>
                  <word>b</word>
                  <word>c</word>
                </words>
              </return>
            </getWordsRangeResponse>
          </content>
        </part>
      </message>
    </emulate>
  </wireActions>
  <wireActions wireSource="Master_Dispatcher_Process/OSB_Slave_John_The_Ripper_WS" operation="johnTheRipperAttack">
    <assert comparisonMethod="xml-similar">
      <expected>
        <location key="input"/>
        <message>
          <part partName="parameters">
            <content>
              <johnTheRipperAttack xmlns="http://ws.slave.cracking.uem.es/">
                <johnTheRipperAttackRequest xmlns="">
                  <routing>
                    <ip>10.10.10.20</ip>
                    <port>8080</port>
                  </routing>
                  <activeAttackId>1</activeAttackId>
                  <attackWindowId>1</attackWindowId>
                  <format>MD5</format>
                  <dictionary>
                    <word>a</word>
                    <word>b</word>
                    <word>c</word>
                  </dictionary>
                  <bfPattern/>
                  <hashToCrack>hashToCrack</hashToCrack>
                  <configParam/>
                </johnTheRipperAttackRequest>
              </johnTheRipperAttack>
            </content>
          </part>
        </message>
      </expected>
    </assert>
  </wireActions>
</compositeTest>
